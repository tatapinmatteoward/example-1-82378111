---
// Navigation component for Seoul Pet Rescue
const siteName = "Seoul Pet Rescue";
const navLinks = [
  { name: "Home", href: "/" },
  { name: "Services", href: "/services" },
  { name: "Blog", href: "/blog" }
];

let isMenuOpen = false;

function toggleMenu() {
  isMenuOpen = !isMenuOpen;
}
---

<nav class="bg-[#4F7C5F] shadow-lg">
  <div class="container mx-auto px-4 py-4">
    <div class="flex justify-between items-center">
      <!-- Logo/Brand - links to root -->
      <a href="/" class="text-2xl font-bold text-white">{{ siteName }}</a>
      
      <!-- Desktop Navigation -->
      <div class="hidden md:flex gap-6">
        {navLinks.map((link) => (
          <a 
            href={link.href} 
            class="text-white hover:text-[#FF9E40] transition-colors duration-300"
            class:list={{
              "font-bold border-b-2 border-[#FF9E40]": Astro.url.pathname === link.href,
              "hover:underline": Astro.url.pathname !== link.href
            }}
          >
            {link.name}
          </a>
        ))}
      </div>
      
      <!-- Mobile Menu Button -->
      <button 
        class="md:hidden text-white focus:outline-none"
        aria-label="Toggle menu"
        onClick={toggleMenu}
      >
        <svg 
          xmlns="http://www.w3.org/2000/svg" 
          class="h-6 w-6" 
          fill="none" 
          viewBox="0 0 24 24" 
          stroke="currentColor"
        >
          <path 
            stroke-linecap="round" 
            stroke-linejoin="round" 
            stroke-width="2" 
            d={isMenuOpen ? "M6 18L18 6M6 6l12 12" : "M4 6h16M4 12h16M4 18h16"} 
          />
        </svg>
      </button>
    </div>
    
    <!-- Mobile Navigation -->
    {isMenuOpen && (
      <div class="md:hidden mt-4 pb-4">
        <div class="flex flex-col gap-3">
          {navLinks.map((link) => (
            <a 
              href={link.href} 
              class="text-white hover:text-[#FF9E40] py-2 transition-colors duration-300"
              class:list={{
                "font-bold border-l-4 border-[#FF9E40] pl-2": Astro.url.pathname === link.href,
                "pl-2": Astro.url.pathname !== link.href
              }}
              onClick={() => { isMenuOpen = false }}
            >
              {link.name}
            </a>
          ))}
        </div>
      </div>
    )}
  </div>
</nav>

<style>
  /* Smooth transition for mobile menu */
  nav div.flex-col {
    animation: fadeIn 0.3s ease-in-out;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }
</style>